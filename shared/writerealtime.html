<head>
  <title>WriteRealtime - Meteorjs contenteditable demo</title>
</head>

<body>
</body>

<template name="layout">
	<div class="container">
		<header>
			{{> nav}}
		</header>
		{{> yield}}
	</div>
</template>

<template name="loading">
	loading
</template>

<template name="nav">
	<button class="btn btn-primary edit-article">{{#if editing}}Finished{{else}}Edit{{/if}}</button>
	<button class="btn btn-primary add-new-article">Add New Article</button>
	<a class="btn btn-default github-link" href="https://github.com/bobbigmac/write-realtime">View on github</a>
	Hello
</template>

<template name="fragment">
	<div class="fragment-container" data-id="{{this._id}}" data-tag="{{tag}}" editable="{{editable}}" data-inline="{{inline}}">
		<div class="handle"><i class="glyphicon glyphicon-th-list"> </i></div>
		<div class="options">
			<select class="form-control select-transparent fragment-set-tag" tabindex="-1" data-width="50">
			  <option {{selected tag "p"}}>p</option>
			  <option {{selected tag "q"}}>q</option>
			  <option {{selected tag "h1"}}>h1</option>
			  <option {{selected tag "h2"}}>h2</option>
			  <option {{selected tag "h3"}}>h3</option>
			  <option {{selected tag "h4"}}>h4</option>
			  <option {{selected tag "bq"}}>bq</option>
			  <option {{selected tag "nb"}}>nb</option>
			  <option {{selected tag "re"}}>re</option>
			  <option {{selected tag "tag"}}>tag</option>
			  <option {{selected tag "css"}}>css</option>
			  <option {{selected tag "meta"}}>meta</option>
			  <option {{selected tag "path"}}>path</option>
			</select>
		</div>
		{{>fragmentproxy}}
	</div>
</template>

<template name="articles">
	{{#each articles}}
		{{>articleLink}}
	{{/each}}
</template>

<template name="articleLink">
	<p><a href="{{linkUrl}}">{{linkText}}</a></p>
</template>

<template name="addfragment">
	<div class="add-new-fragments">
		{{#each tags}}
		<a class="btn add-new-fragment" data-tag="{{this}}">
			<i class="glyphicon glyphicon-plus"></i>
			{{this}}
		</a>
		{{/each}}
	</div>
</template>

<template name="article">
	<div class="fragments" data-id="{{this._id}}">
		{{#each fragments}}
			{{>fragment}}
		{{/each}}
		{{>addfragment}}
	</div>
</template>

<template name="articlebyname">
	<div class="fragments" data-id="{{this._id}}">
		{{#each fragments}}
			{{>fragment}}
		{{/each}}
	</div>
</template>
